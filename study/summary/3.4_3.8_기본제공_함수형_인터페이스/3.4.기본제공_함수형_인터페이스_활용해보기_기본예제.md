# 내장 함수형 인터페이스 활용하기 (기본예제)

> `모던 자바 인 액션` 책에서는 `3.4. 함수형 인터페이스 사용` 이라는 이름의 챕터 이고, 제목이 뭔가 와닿지가 않아서 이름을 `기본제공 함수형 인터페이스 활용해보기`로 바꾸었다.

정리할 내용은 무지하게 많다. 액기스만 추려서 예제위주로 정리할 예정이다. 가급적 설명은 배제하고 리스트업 형식으로 정리해볼 예정이다.

  

# 1. Function\<T,R\>

## SUMMARY

> - 인풋 타입 T (Type 약자 T)의 입력값을 받아서 
> - 리턴 타입 R (Return 약자 R)의 값을 리턴한다.

  

## 1.1. 간단예제

```java
/**
	 * Function<T,R> 은 타입 T를 파라미터로 받아서 타입 R을 리턴한다.. 라고 읽으면 된다.
	 * 문자열을 input 으로 받아서 (문자열 타입 - Type(T))
	 * 문자열의 길이(Integer)를 Return(R)
	 */
	@Test
	@DisplayName("Function<T,R> 예제 #1")
	void testFunctionTAndR_1(){
		Function<String, Integer> lengthFunc = (t)->{
			return t.length();
		};

		Integer length = lengthFunc.apply("hello~");
		Assertions.assertThat(length).isEqualTo(6);
		System.out.println(length);
	}
```

  

출력결과

```plain
6
```

  

## 1.2. 파라미터로 Function\<T,R\> 을 전달해보기

```java
	/**
	 * 인풋 타입 T 를 나열한 컬렉션인 input 을 받아서
	 * 리턴 타입 R과 인풋 타입 T에 대한 람다를 받아서 연산을 수행하도록 하는 함수.
	 * 리스트의 각 요소 T에 대해 mapperFn을 적용한 값 R을 리스트로 만든 값을 반환.
	 * @param input
	 * @param mapperFn
	 * @param <T>
	 * @param <R>
	 * @return
	 */
	public <T,R> List<R> mappingByFunction(List<T> input, Function<T, R> mapperFn){
		List<R> list = new ArrayList<>();
		for(T d : input){
			list.add(mapperFn.apply(d));
		}
		return list;
	}

	/**
	 * Function<T,R> 을 메서드의 파라미터로 전달해보기
	 */
	@Test
	@DisplayName("Function<T,R> 예제 #2")
	void testFucntionTAnR_2(){
		List<String> words = Arrays.asList("Apple", "Banana", "Carrot", "Dragon", "Eureka");

		List<Integer> integers = mappingByFunction(words, t -> {
			return t.length();
		});

		System.out.println(integers);
	}
```

  

출력결과

```plain
[5, 6, 6, 6, 6]
```



# 2. Predicate \<T\>

## SUMMARY

> - 입력 타입 T (Type 의 약자 T)를 받아서
> - test(T) : boolean 을 수행한다.
>
> 이때 test(T): boolean 은 람다로써, 프로그래머가 구현하여 전달해준다.

  

## 2.1. 간단예제

```java
	/**
	 * 단순 사용예제 > 공백문자열 여부 체크
	 */
	@Test
	void testPredicate_T_1() {
		Predicate<String> isWhiteSpace = (t) -> {
			boolean b = t.length() == 0;
			return b;
		};

		String whiteSpace = "";
		boolean whiteSpaceFlag = isWhiteSpace.test(whiteSpace);
		System.out.println("문자열 '" + whiteSpace + "' 는 공백문자인가요? " + whiteSpaceFlag);
	}
```



출력결과

```plain
문자열 '' 는 공백문자인가요? true
```



## 2.2. 파라미터로 Predicate\<T\> 를 전달해보기

```java
	enum DeviceType {
		CPU(100, "CPU"){},
		RAM(200, "RAM"){},
		DISK(500, "DISK"){};

		private int deviceTypeCode;
		private String deviceTypeNm;

		DeviceType(int deviceTypeCode, String deviceTypeNm){
			this.deviceTypeCode = deviceTypeCode;
			this.deviceTypeNm = deviceTypeNm;
		}
	}

	/**
	 * 리스트 내에서 추출해낼 조건 검사식 predicate 에 일치하는 요소들만을 추려낸 새로운 리스트를 반환한다.
	 * @param input
	 * @param predicate
	 * @param <T>
	 * @return
	 */
	public <T> List<T> filter (List<T> input, Predicate<T> predicate){
		List<T> result = new ArrayList<>();

		for(T t : input){
			if(predicate.test(t)){
				result.add(t);
			}
		}

		return result;
	}

	/**
	 * Predicate<T> 를 파라미터로 전달받는 예제
	 */
	@Test
	void testPredicate_T_2(){
		EnumSet<DeviceType> es = EnumSet.of(DeviceType.CPU, DeviceType.RAM, DeviceType.DISK);
		List<Object> deviceList = Arrays.asList(es.toArray());
		List<Object> d = filter(deviceList, t -> {
			return (DeviceType.CPU.equals(t));
		});

		System.out.println("d :: " + d);
	}
```

  

출력결과

```plain
d :: [CPU]
```

  

# 3. Consumer\<T\>

## SUMMARY

> 입력타입 T (Type 의 약자 'T')를 받아서 accpet(T t) 를 실행한다. 이 때 실행 문맥은 프로그래머가 구현해서 전달해준 람다이다.



## 3.1. 간단예제

```java
	@Test
	@DisplayName("Consumer 예제 #1 > 문자열 길이 출력하기")
	void testConsumer_T_1(){
		Consumer<String> printLengthNewLine = (t) -> {
			System.out.println(t.length());
		};
//		List<String> inputList = Arrays.asList("ABC", "DEF", "GH", "I", "");
		String inputString = "ABC";
		printLengthNewLine.accept(inputString);
	}
```

  

출력결과

```plain
3
```



## 3.2. 파라미터로 Consumer\<T\> 를 전달해보기

```java
	/**
	 * Consumer 인터페이스 타입의 람다를 받아서 동작하는 어셉터
	 * @param list
	 * @param consumer
	 * @param <T>
	 */
	public <T> void accpetor (List<T> list, Consumer<T> consumer){
		List<T> result = new ArrayList<>();
		for (T t: list){
			consumer.accept(t);
		}
	}
	
	/**
	 * 파라미터로 Consumer 타입의 람다를 받아서 처리해보기
	 */
	@Test
	@DisplayName("Consumer 예제 #2 > 파라미터로 Consumer 받아서 처리해보기")
	void testConsumer_T_2(){
		List<String> list = Arrays.asList("ABC", "DEF", "HI", "J", "");
		accpetor(list, t -> {
			System.out.println(t.length());
		});
	}
```

  

출력결과

```plain
3
3
2
1
0
```

  

# 4. 기본형 특화, 박싱과 언박싱

## 박싱, 언박싱이란?

## 기본형 특화 Function,Predicate,Consumer



# 5. 이외의 내장 함수형 인터페이스들



